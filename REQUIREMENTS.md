# 요구사항 명세서

## 1. 기능 요구사항

| ID | 요구사항명칭 | 설명 | 우선순위 |
|---|---|---|---|
| FR-AD-001 | 아이디 중복 검사 | 회원가입 시 입력한 아이디가 이미 사용 중인지 확인 | 상 |
| FR-AD-002 | 이메일 인증 | 회원가입 시 이메일 인증번호 발송 및 검증 | 상 |
| FR-AD-003 | 회원가입 | 사용자 정보(아이디, 비밀번호, 이메일)를 DB에 저장 | 상 |
| FR-AD-004 | 로그인 | 아이디와 비밀번호로 사용자 인증 및 JWT 토큰 발급 | 상 |
| FR-AD-005 | JWT 토큰 관리 | 로그인 시 JWT 토큰 발급, API 요청 시 토큰 검증 | 상 |
| FR-AD-006 | 아이디 찾기 | 이메일을 입력하여 등록된 아이디 조회 (일부 마스킹) | 중 |
| FR-AD-007 | 비밀번호 찾기 | 아이디와 이메일로 임시 비밀번호 생성 및 이메일 발송 | 중 |
| FR-AD-008 | 회원정보 수정 | 비밀번호 및 이메일 변경 (현재 비밀번호 확인 필수) | 중 |
| FR-AD-009 | 회원탈퇴 | 사용자 계정 삭제 | 하 |
| FR-AD-010 | 제품 생성 | 제품명, 브랜드, 카테고리 정보로 제품 등록 | 상 |
| FR-AD-011 | 제품 소유권 관리 | 제품 생성 시 user_id 저장하여 소유자 식별 | 상 |
| FR-AD-012 | 제품 목록 조회 | 사용자별 제품 목록 조회 (user_id 기반 필터링) | 상 |
| FR-AD-013 | 제품 검색 및 필터링 | 제품명, 브랜드로 검색, 카테고리 및 날짜 범위 필터링, 정렬 기능 | 상 |
| FR-AD-014 | 제품 정보 수정 | 제품명, 브랜드, 카테고리 정보 수정 (소유권 확인 필수) | 중 |
| FR-AD-015 | 제품 삭제 | 제품 및 관련 데이터 삭제 (CASCADE) | 중 |
| FR-RV-001 | 리뷰 파일 업로드 | CSV 또는 Excel 파일 업로드 (드래그 앤 드롭 지원) | 상 |
| FR-RV-002 | 컬럼 매핑 | 업로드된 파일의 리뷰, 날짜, 평점 컬럼 매핑 | 상 |
| FR-RV-003 | 데이터 파싱 및 검증 | CSV/Excel 파일 파싱, 파일 내용 검증(매직 넘버), 데이터 유효성 검증 | 상 |
| FR-RV-004 | 리뷰 저장 | 검증된 리뷰 데이터를 DB에 저장 | 상 |
| FR-RV-005 | 중복 리뷰 체크 | 동일 제품, 동일 날짜, 동일 리뷰 텍스트 중복 체크 | 상 |
| FR-RV-006 | 리뷰 조회 | 제품별 리뷰 목록 조회 (키워드 필터링 옵션) | 중 |
| FR-RV-007 | 스팀 리뷰 평점 계산 | voted_up과 weighted_vote_score를 이용한 평점 자동 계산 | 상 |
| FR-AN-001 | 리뷰 분석 요청 | 리뷰 업로드 후 자동 분석 또는 수동 분석 요청 | 상 |
| FR-AN-002 | AI 감정 분석 | Python AI 서버를 통한 ABSA 기반 감정 분석 수행 | 상 |
| FR-AN-003 | 인사이트 생성 | LangChain과 OpenAI를 이용한 비즈니스 인사이트 생성 | 상 |
| FR-AN-004 | 워드클라우드 생성 | 리뷰 데이터 기반 워드클라우드 이미지 생성 | 상 |
| FR-UI-001 | 대시보드 데이터 조회 | 제품별 대시보드 데이터 조회 (KPI, 차트 데이터, 인사이트) | 상 |
| FR-UI-002 | 대시보드 시각화 | KPI 카드, 일별 트렌드 차트, 레이더 차트, 분할 막대 차트, 히트맵 표시 | 상 |
| FR-UI-003 | 날짜 필터링 | 대시보드 데이터의 날짜 범위 필터링 기능 | 중 |
| FR-UI-004 | PDF 다운로드 | 대시보드 리포트를 PDF 파일로 다운로드 | 중 |
| FR-UI-005 | 워드클라우드 표시 | 생성된 워드클라우드 이미지를 대시보드에 표시 | 상 |
| FR-UI-006 | AI 인사이트 리포트 표시 | 생성된 AI 인사이트 리포트를 대시보드에 표시 | 상 |

## 2. 비기능 요구사항

| ID | 요구사항명칭 | 설명 | 적용시점 |
|---|---|---|---|
| NFR-SC-001 | JWT 토큰 기반 인증 | 모든 API 요청에 JWT 토큰 검증 미들웨어 적용 | 알파 |
| NFR-SC-002 | 비밀번호 암호화 | bcrypt를 이용한 비밀번호 해시 저장 | 알파 |
| NFR-SC-003 | 사용자별 데이터 분리 | 모든 데이터 조회 시 user_id 기반 필터링으로 타 사용자 데이터 접근 차단 | 알파 |
| NFR-SC-004 | 제품 소유권 확인 | 제품 수정/삭제/리뷰 업로드 시 제품 소유권 확인 | 알파 |
| NFR-SC-005 | 파일 업로드 보안 | 파일 크기 제한(10MB), 확장자 검증(.csv, .xlsx, .xls), MIME 타입 검증, 매직 넘버 검증 | 베타 |
| NFR-SC-006 | 파일명 sanitization | 경로 탐색 공격 방지를 위한 파일명 정제 | 베타 |
| NFR-SC-007 | 리뷰 텍스트 길이 제한 | DoS 공격 방지를 위한 리뷰 텍스트 최대 길이 제한(10,000자) | 베타 |
| NFR-SC-008 | 파일 개수 제한 | 한 번에 업로드 가능한 파일 개수 제한(최대 10개) | 베타 |
| NFR-PF-001 | 대시보드 데이터 캐싱 | 대시보드 데이터를 tb_productDashboard 테이블에 집계하여 저장 | 알파 |
| NFR-PF-002 | 중복 리뷰 체크 최적화 | DB 쿼리를 통한 효율적인 중복 리뷰 체크 | 베타 |
| NFR-PF-003 | 비동기 분석 처리 | 리뷰 분석을 비동기로 처리하여 사용자 대기 시간 최소화 | 베타 |
| NFR-DV-001 | 드래그 앤 드롭 파일 업로드 | 파일 선택 시 드래그 앤 드롭 방식 지원 | 베타 |
| NFR-DV-002 | 파일 미리보기 | 업로드 전 파일 내용 미리보기 및 컬럼 매핑 UI 제공 | 베타 |
| NFR-DV-003 | 업로드 결과 피드백 | 업로드 완료 후 삽입/건너뛰기/중복 개수 표시 | 베타 |
| NFR-DV-004 | 에러 메시지 표시 | 사용자 친화적인 에러 메시지 표시 | 알파 |
| NFR-DV-005 | 로딩 상태 표시 | 데이터 조회 및 처리 중 로딩 상태 표시 | 알파 |
| NFR-DV-006 | CSV 파일 지원 | CSV 파일 형식 지원 (csv-parser 라이브러리 사용) | 알파 |
| NFR-DV-007 | Excel 파일 지원 | Excel 파일 형식 지원 (.xlsx, .xls, xlsx 라이브러리 사용) | 알파 |
| NFR-DV-008 | 다양한 날짜 형식 지원 | ISO 형식, YYYY-MM-DD, Excel 날짜 형식 등 다양한 날짜 형식 파싱 | 베타 |
| NFR-DV-009 | 스팀 리뷰 형식 지원 | 스팀 리뷰 CSV의 voted_up, weighted_vote_score 컬럼 자동 인식 및 평점 계산 | 베타 |
| NFR-DV-010 | 트랜잭션 처리 | 데이터 일관성을 위한 트랜잭션 처리 | 베타 |
| NFR-DV-011 | 에러 핸들링 | 예외 상황에 대한 적절한 에러 핸들링 및 로깅 | 알파 |
| NFR-DV-012 | 데이터 검증 | 입력 데이터의 유효성 검증 (필수 필드, 데이터 타입, 범위 등) | 알파 |
| NFR-DV-013 | 로깅 | 주요 작업에 대한 로깅 (성공/실패, 에러 메시지) | 알파 |
| NFR-DV-014 | 환경 변수 관리 | 민감한 정보(DB 연결 정보, JWT 시크릿 등)를 환경 변수로 관리 | 알파 |

